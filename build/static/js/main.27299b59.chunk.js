(window.webpackJsonpnews_app=window.webpackJsonpnews_app||[]).push([[0],{23:function(e,t,n){e.exports=n(37)},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(11),r=n.n(a),c=n(13),i=n(1),l=n.n(i),s=n(12),o=n.n(s),u=n(3),p=n(4);var m=function(e,t,n){if(0===e.length)return t;for(var a=[],r=0;r<e.length;r++)for(var c=0;c<t.length;c++)if(e[r][n]===t[c][n]?(a.push(e[r]),r++):a.push(t[c]),a.length===e.length)return a;return a},f={NAME:"Maxim",SURNAME:"Polonsky",EMAIL:"mchp010nsky@gmail.com",TEL:"+375(29)286-18-00"},E="news_API",w="https://newsapi.org/v2/top-headlines?country=us&pageSize=5&"+"apiKey=".concat("8d8ee5d1a2b6469881df0144b6118048"),d={DOWNLOAD_FRESH_NEWS:"DOWNLOAD_FRESH_NEWS",UPDATE_RATING:"UPDATE_RATING",UPDATE_VIEWERS:"UPDATE_VIEWERS",FILTER_BY_TITLE:"FILTER_BY_TITLE",DOWNLOAD_ERROR:"DOWNLOAD_ERROR"};var h=n(22),v=n(16);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=Object(p.c)({FreshNews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.DOWNLOAD_FRESH_NEWS:return Object(v.a)(t.payload).sort((function(e,t){return new Date(t.publishedAt)-new Date(e.publishedAt)}));case d.UPDATE_RATING:return e.map((function(e){return e.newsID!==t.payload.newsID?e:y({},e,{like:t.payload.like})}));case d.UPDATE_VIEWERS:return e.map((function(e){return e.newsID!==t.payload.newsID?e:y({},e,{viewers:t.payload.viewers})}));case d.DOWNLOAD_ERROR:return{errorMessage:t.payload};default:return e}},FilterByTitle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.type===d.FILTER_BY_TITLE?t.payload:e}}),D=function(e){return function(t){return function(n){var a,r=e.getState();if(n.type===d.DOWNLOAD_FRESH_NEWS){var c=(a=n.payload,Array.isArray(a)?a.map((function(e){return Object.assign(e,{like:0,viewers:0,newsID:e.title||(new Date).toString()})})):Object.assign(a,{like:0,viewers:0,newsID:a.title||(new Date).toString()})),i=m(r.FreshNews,c,"newsID");return t({type:n.type,payload:i})}return t(n)}}},k=function(e){return function(t){return function(n){var a=t(n);return localStorage.news_API=JSON.stringify(e.getState()),a}}};var N=function(){return Object(p.d)(O,localStorage[E]?JSON.parse(localStorage[E]):[],Object(p.a)(D,k))},g=function(e){return Array.isArray(e)?{type:d.DOWNLOAD_FRESH_NEWS,error:!1,payload:e}:{type:d.DOWNLOAD_ERROR,error:!0,payload:e}},j=function(e){return{type:d.FILTER_BY_TITLE,payload:e}},A=function(){var e=Object(c.a)(r.a.mark((function e(){var t,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new Request(w),e.next=4,fetch(t);case 4:if(200!==(n=e.sent).status){e.next=10;break}return e.next=8,n.json();case 8:return a=e.sent,e.abrupt("return",Object(v.a)(a.articles));case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),I=(n(34),n(35),n(6)),R=n(7),_=n(9),S=n(8),L=n(10),T=function(e){function t(e){var n;return Object(I.a)(this,t),(n=Object(_.a)(this,Object(S.a)(t).call(this,e))).state={date:new Date},n}return Object(L.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){this.setState({date:new Date})}},{key:"render",value:function(){var e=this.state.date.toLocaleDateString(),t=this.state.date.toLocaleTimeString();return l.a.createElement("span",null,"".concat(e," /  ").concat(t))}}]),t}(l.a.Component),P=function(e){function t(){return Object(I.a)(this,t),Object(_.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(R.a)(t,[{key:"findNews",value:function(){(0,this.props.onFindNews)(this.searchInput.value)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("input",{type:"text",name:"",className:"search",placeholder:"Search news",ref:function(t){return e.searchInput=t}}),l.a.createElement("button",{className:"submit-button",onClick:this.findNews.bind(this)},"Find News"))}}]),t}(l.a.Component),F=Object(u.b)((function(e){return{newsData:e.FreshNews}}),(function(e){return{onFindNews:function(t){e(j(t))}}}))(P),W=Object(u.b)((function(e){return{newsData:e.FreshNews}}),(function(e){return{onFindNews:function(t){e(j(t))}}}))((function(){return l.a.createElement("header",null,l.a.createElement("h2",null,"News App"),l.a.createElement(T,null),l.a.createElement(F,null))})),U=n(14),x=n(0),M=n(15),V=function(e){function t(e){var n;return Object(I.a)(this,t),(n=Object(_.a)(this,Object(S.a)(t).call(this,e))).state={like:e.like,clicked:!1,color:"#a5a5a5"},n.onRate=n.onRate.bind(Object(U.a)(n)),n}return Object(L.a)(t,e),Object(R.a)(t,[{key:"componentDidUpdate",value:function(e,t){var n=this.state.like,a=this.props.onLike;t.like!==n&&a(n)}},{key:"onRate",value:function(){var e=this.state,t=e.like;e.clicked?this.setState({like:t-1,clicked:!1,color:"#a5a5a5"}):this.setState({like:t+1,clicked:!0,color:"red"})}},{key:"render",value:function(){var e=this.state,t=e.like,n=e.color;return l.a.createElement("button",{className:"news-like-btn complementary",onClick:this.onRate},l.a.createElement(x.b.Provider,{value:{color:"".concat(n),className:"global-class-name",size:"1.5em"}},l.a.createElement("div",null,l.a.createElement(M.b,null))),l.a.createElement("span",null,t))}}]),t}(l.a.Component);V.defaultProps={like:0,onLike:{}};var B=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"views complementary"},l.a.createElement(x.b.Provider,{value:{color:"#a5a5a5",className:"global-class-name",size:"1.5em"}},l.a.createElement(M.a,null)),l.a.createElement("span",null,e.viewers)))},C=function(e){var t=e.newsID,n=e.viewers,a=e.onView,r=e.onLike,c=e.like,i=e.source,s=e.author,o=e.title,u=e.url,p=e.publishedAt,m=e.urlToImage,f=e.description;return l.a.createElement("article",{className:"news"},l.a.createElement("a",{href:u,onClick:function(){return a({newsID:t,viewers:n+1})},target:"_blank",rel:"noopener noreferrer"},l.a.createElement("figure",null,l.a.createElement("img",{src:m,className:"news-image",alt:"news"})),l.a.createElement("section",{className:"news-body"},l.a.createElement("h3",{className:"news-title"},o),l.a.createElement("p",null,f))),l.a.createElement("div",null,l.a.createElement("address",{className:"fs-italic"},"Author: ",s||i.name),l.a.createElement("span",{className:"fs-italic"},"Published at: ",new Date(p).toLocaleString())),l.a.createElement("div",{className:"complementary"},l.a.createElement(V,{like:c,onLike:function(e){return r({newsID:t,like:e})}}),l.a.createElement(B,{viewers:n})))};C.defaultProps={like:0,viewers:0,onLike:{},onView:{}};var H=C;n(36);var G=Object(u.b)((function(e){return{newsData:e.FreshNews.filter((function(t){return t.title.includes(e.FilterByTitle)}))}}),(function(e){return{onLike:function(t){var n;e((n=t,{type:d.UPDATE_RATING,payload:n}))},onView:function(t){var n;e((n=t,{type:d.UPDATE_VIEWERS,payload:n}))}}}))((function(e){var t=e.newsData,n=e.onLike,a=e.onView;return l.a.createElement("main",null,l.a.createElement("h1",{className:"visually-hidden"},"The News"),l.a.createElement("section",{className:"news-wrapper"},Array.isArray(t)?l.a.createElement("ul",{className:"news-list"},t.map((function(e,t){return l.a.createElement("li",{key:t},l.a.createElement(H,Object.assign({},e,{onLike:function(e){return n(e)},onView:function(e){return a(e)}})))}))):l.a.createElement("h3",null,t.errorMessage)))}));function J(){return l.a.createElement("footer",null,l.a.createElement("div",{className:"email"},"My contacts : ",l.a.createElement("span",null,f.EMAIL)))}var Y=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(W,null),l.a.createElement(G,null),l.a.createElement(J,null))},z=N();function q(){return(q=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,z.dispatch(g(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){q.apply(this,arguments)}(),o.a.render(l.a.createElement(u.a,{store:z},l.a.createElement(Y,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.27299b59.chunk.js.map